# -*- coding: utf-8 -*-
# 作者: xcl
# 时间: 2019/7/3 10:35


from sklearn import preprocessing
import pandas as pd

import datetime  # 程序耗时

# 开始计算耗时
start_time = datetime.datetime.now()
# 读取
data = pd.read_excel("测试用数据.xlsx")
coordinate_file_path = "D:\\毕业论文程序\\MODIS\\坐标\\"
JCZ_file = pd.read_excel(
    coordinate_file_path +
    "监测站坐标toDarkSkyAPI.xlsx",
    sheet_name="汇总")  # 监测站坐标toDarkSkyAPI
datajcz = JCZ_file["城市"]
print(datajcz.shape)


xni = pd.get_dummies(datajcz)
# print(xni)
print(xni.shape)
enc = preprocessing.OneHotEncoder()
c = enc.fit(xni)  # 这里一共有4个数据，3种特征
array = enc.transform(xni).toarray()  # 这里使用一个新的数据来测试
# print(array)  # [[ 1  0  0  1  0  0  0  0  1]]

array = pd.DataFrame(array)
print(array.shape[1])


KeyError = [
    'id_124',
    'id_51',
    'id_42',
    'tm_mday_29',
    'tm_mon_5',
    'id_128',
    'id_85',
    'id_65',
    'id_52',
    'id_44',
    'tm_mday_19',
    'id_136',
    'id_103',
    'id_34',
    'id_106',
    'id_68',
    'id_122',
    'tm_mon_3',
    'tm_mday_6',
    'tm_mday_16',
    'tm_mon_6',
    'id_2',
    'tm_mday_8',
    'id_83',
    'id_64',
    'tm_mday_24',
    'id_138',
    'id_70',
    'id_110',
    'id_32',
    'id_105',
    'id_98',
    'id_97',
    'id_150',
    'tm_mday_22',
    'tm_mday_25',
    'id_39',
    'id_148',
    'tm_mday_30',
    'id_41',
    'id_146',
    'id_147',
    'id_46',
    'tm_mday_13',
    'id_58',
    'tm_mday_9',
    'tm_mon_12',
    'tm_mon_8',
    'id_40',
    'id_62',
    'id_50',
    'id_37',
    'tm_mday_10',
    'tm_mon_4',
    'id_144',
    'tm_mday_5',
    'id_137',
    'tm_mon_10',
    'id_28',
    'id_43',
    'id_80',
    'id_143',
    'id_121',
    'tm_mday_21',
    'id_56',
    'id_33',
    'id_127',
    'tm_mday_27',
    'id_82',
    'id_38',
    'id_102',
    'tm_mday_20',
    'id_60',
    'id_76',
    'tm_mday_23',
    'id_99',
    'id_54',
    'tm_mday_12',
    'id_59',
    'id_151',
    'id_126',
    'id_55',
    'id_81',
    'tm_mday_31',
    'tm_mday_2',
    'id_129',
    'id_48',
    'tm_mday_14',
    'tm_mon_11',
    'id_74',
    'id_75',
    'id_120',
    'tm_mday_28',
    'id_134',
    'id_108',
    'id_117',
    'id_57',
    'tm_mon_2',
    'tm_mday_17',
    'id_26',
    'id_95',
    'id_118',
    'id_49',
    'id_67',
    'id_69',
    'id_107',
    'id_79',
    'id_66',
    'id_35',
    'id_53',
    'id_114',
    'tm_mon_7',
    'id_104',
    'tm_mon_9',
    'id_96',
    'tm_mday_7',
    'id_133',
    'tm_mday_11',
    'id_78',
    'id_115',
    'tm_mday_15',
    'id_139',
    'id_100',
    'id_63',
    'id_112',
    'tm_mday_18',
    'id_131',
    'id_142',
    'id_47',
    'id_36',
    'id_130',
    'id_141',
    'id_111',
    'id_71',
    'id_84',
    'tm_mday_26',
    'id_61',
    'id_135',
    'id_72',
    'id_113',
    'id_145',
    'id_116',
    'tm_mday_4',
    'tm_mday_3',
    'id_119',
    'id_1',
    'id_77',
    'id_3',
    'id_109',
    'id_101',
    'id_123',
    'id_73',
    'id_45',
    'id_125',
    'id_149',
    'id_132',
    'id_86',
    'id_140']
